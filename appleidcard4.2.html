<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple ID Card</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --primary-color: #1d1d1f;
            --accent-color: #007aff;
            --bg-color: #f5f5f7;
            --sidebar-bg: #1d1d1f;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            display: flex;
            height: 100vh; /* Full viewport height */
            overflow: hidden;
            color: #1d1d1f;
        }

        /* LEFT SIDE: CONTROLS */
        .controls {
            width: 400px;
            background: var(--sidebar-bg);
            color: white;
            padding: 30px;
            display: flex;
            flex-direction: column;
            box-shadow: 4px 0 15px rgba(0,0,0,0.1);
            z-index: 10;
            overflow-y: auto;
        }

        .controls h2 {
            font-weight: 600;
            font-size: 20px;
            margin-bottom: 25px;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        label {
            font-size: 12px;
            color: #86868b;
            margin-bottom: 8px;
            display: block;
            text-transform: uppercase;
            font-weight: 600;
        }

        textarea {
            width: 100%;
            flex-grow: 1; /* Makes textarea fill available space */
            min-height: 200px;
            padding: 12px;
            background: #2d2d2f;
            border: 1px solid #424245;
            border-radius: 10px;
            color: white;
            font-family: 'SF Mono', monospace;
            font-size: 13px;
            box-sizing: border-box;
            margin-bottom: 20px;
            resize: none;
        }

        input {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            background: #2d2d2f;
            border: 1px solid #424245;
            border-radius: 8px;
            color: white;
            box-sizing: border-box;
        }

        button {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 14px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 12px;
            transition: all 0.2s;
        }

        button:hover { opacity: 0.9; transform: translateY(-1px); }
        button.download { background-color: #28cd41; }

        /* RIGHT SIDE: PREVIEW */
        .preview-area {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            overflow: auto;
            background-color: #e8eaed;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.5) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.5) 1px, transparent 1px);
            background-size: 30px 30px;
        }

        #card {
            width: 400px;
            background: white;
            border-radius: 22px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.15);
            overflow: hidden;
            border: 1px solid #e5e5e5;
            flex-shrink: 0; /* Prevents card from squishing */
        }

        .card-header {
            background: #fbfbfd;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            border-bottom: 1px solid #f0f0f0;
        }

        .apple-logo { width: 22px; height: 22px; object-fit: contain; }

        .company-name {
            font-size: 17px;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        .card-body { padding: 28px; }
        .field { margin-bottom: 18px; }

        .label {
            font-size: 10px;
            font-weight: 700;
            color: #86868b;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 4px;
        }

        .value {
            font-size: 16px;
            font-weight: 500;
            color: #1d1d1f;
            word-break: break-all;
        }

        .value.blue { color: var(--accent-color); font-weight: 600; }

        .security-box {
            background: #f5f5f7;
            padding: 18px;
            border-radius: 14px;
            margin-top: 15px;
        }

        .sec-item { margin-bottom: 12px; }
        .sec-item:last-child { margin-bottom: 0; }
        .q { font-size: 11px; color: #515154; margin-bottom: 3px; line-height: 1.3; }
        .a { font-size: 14px; font-weight: 600; color: #1d1d1f; }

        .card-footer {
            padding: 12px 14px 12px 14px;
            background: #fbfbfd;
            font-size: 10px;
            color: #86868b;
            text-align: center;
            border-top: 1px solid #f0f0f0;
            line-height: 1.4;
        }
        
        .card-unique-id{
            font-family: monospace;
            font-size: 9px; color: #ccc;
            text-align: right;
            padding-right: 15px;
            margin-top: -10px;
            margin-bottom: 5px;
        }
        
        .copyright{
            font-size: 8px;
            padding-bottom: 10px;
            color: #86868b;
			background: #fbfbfd;
            text-align: center;
            align-items: center;
            align-self: center;
            display: flex; 
            justify-content: center   
        }

        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="controls">
        <h2>Card Designer</h2>
        
        <label>Company Display Name</label>
        <input type="text" id="companyInput" oninput="updateCard()" placeholder="Company Name" value="AppleID {X} Mobile">
        
        <label>Data Input (Paste here)</label>
        <textarea id="dataInput" oninput="updateCard()" placeholder="Paste string here..."></textarea>
        
        <label>Footer Note</label>
        <textarea id="noteInput" oninput="updateCard()" placeholder="Footer Note">مدت ضمانت اکانت ۴۸ ساعت از زمان تحویل بوده و پس از آن مسئولیت با مشتری است.
گزینه Find My iPhone جهت تداوم ضمانت باید دائماً در وضعیت خاموش (Off) باقی بماند.
حساب حاوی اطلاعات محرمانه است و هرگونه افشا یا استفاده ناصحیح از آن ممنوع می‌باشد.
استفاده از این اپل آیدی صرفاً برای App Store مجاز بوده و ورود به iCloud ممنوع است.
رعایت نکردن نکات فوق به معنای لغو کامل ضمانت است , مسئولیت هرگونه قفل شدن گوشی یا اپل‌آیدی و بروز مشکلات فنی دیگر بر عهده مشتری خواهد بود.</textarea>
        
        <div style="margin-top: auto;">
            <button class="download" onclick="downloadCard()">Download PNG Image</button>
        </div>
        <span class="copyright" id="copyright">Copyright (c) 2026 ahmadm671</span>
    </div>

    <div class="preview-area">
        <div id="card">
            <div class="card-header">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAATcvAAE3LwE2dZYYAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAwBQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACyO34QAAAP90Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+6wjZNQAAEfVJREFUGBntwQmc13P+B/DX3DPNTCchRzkqKZS7WKWtLaUVuSmRozYUWnJk3Ve1my6ELVm7lvwNi7KiXUcMKiIWlVRDJ9U0U9PM/F7/xz727/HHdszM7/v5ft+f7+/1fALiTqMuw6bOryB5JCTF7H/6bc8v4w86QlJIbs8JS/gTnSGpYr/Bfyvjz3WHpIL0E+/9mNvTGxJ/+936NXfgNEjMZfWbWc0dOhsSa63uX82d6Q+Jr+z+/+QuDILEVc7Q5dylIZB4yhtWwhoYDomj/GtXsUaug8RPwfVrWEM3Q+ImZ+R61tj1kJjp+QVr4SJIrDR/jrXSGxIjOTeXs3aOhsRHr8WsreaQuGjxPGsvDxITF5Wy9jZB4qHRM6yLxZBYOGkF62QuJAay7qtm3RRB/Nd6HutqCsR7l5Wxzu6EeC7zQSZhMMRv9WcxGcdCvLbfQiajMhfis6O+ZVIWQHx2WhmT8yjEY9dWM0mDIf4azaQdBfHWrUxaRTbEVyOYvHkQXw1hAB6GeGpAggG4FOKnM6oYhA4QL/XaxiCsSof46LAyBmIKxEdNljIYJ0M8lDGbwdiYDfHQ7xmQv0A81J9BOQvin6O2MCBbCyHeabqcQXkJ4p2MfzIwl0C8cyMDU90U4psjtjEwcyC+yfuUwekH8c14BmdZBsQz3RMMzgiIZxqXMDibG0I881cGaCLEM+cxQIlWEL8UfssAvQjxzH0MUneIXw6qYIA+gXjmBQZpIMQvPRikj9IhXsn8lEHqDvHLcAZpJsQvu3/PAFW1g/hlIoM0BeKX3csZoNI9IX65jUEaBfFLvXUM0Mp6EL8MZZD6Q/ySsYQBegnimTMZoO+aQTzzHgN0AcQznRmg5yC+eZHBWdsU4plmCQbnTIhvhjE4T0G8M5eBWdUE4pv9EgxK5UkQ74xgYK6G+Od9BuVJiH8OYFAW5EH8cwMDsq4FxEMfMhhV3SAeas2A/Bbio2sYjL9AvPRXBmJODsRLyxiEhQ0gXtqDQfi6GcRPv2YA1reBeOouJq+8E8RXs5m0qlMhvkrfyKRdBvHWIUxWYijEXxcxSdWXQDz2EJNT1R/is7lMSuXZEK8tYzIq+kL8VsEkbOkF8VsTJqG0G8Rzh7LuFreD+O5XrLNXGkG8N5B1NToD4r8bWDfl50HiYALrZFkHSCzMYF3M2R0SD3NZe1tGZkJiYhlr7fWWkNj4jrX03cWQGFnL2vnrHpA4WcXaWN4HEi8lrLmt4wohMbOcNbXhnj0hsfMVa+ab6+pDYmgxa+LzS3IgsfQ5d+29fumQmFrEXfjk7mMh8bWQO1H5+vADILG2gDuy4S/nNoTE3QfcjtVvTbvpl1mQFFDMH1vz9rSbzz6iPiR1pGdm5+TlFzZo1Hi3poUQEREREamr7BYnnHHeBQMGXnzJZUOGXnnV+V3bNIQkoaBZ84MOPrTDMZ06d+vatgmsSjuw56BbHn5xwZoE/8uWpW/PmHDjRd2aQmqu8NA+V46Z8cE6/kTF18VFD/3u8l+3zYAZ6W3OHztnA2ug5G+3n9Ycsiv7nDn27fXcubK5Ey8+PAtRO2Tg+Lc2s1bWzx593sHpkO3K7XTtMytZU1vff2jQ/ohKswHTv2EdbZ47/pQ8yE8dfmtxBWtt8YOnN0LYCvs8sIhJ2vLy0BaQ/5N+wtilrKvq4ju7ZCM0bW56q5LBWHR/50xI9slTVjFJm5/qm4MQdLjjUwZqw9MXNkVKO+rRjQzExmk9M+FSWscxS+lA4p1LC5CiCi6dxwCtfahLOhzpNLGEzmx6qANS0OGTNzFo34w7DsFrdfsSOvbeoHyklKwB79CNr+5tjyA1veo9hmHjpMOQMrIvX0aH/nXrwQhGvXNfrmRo3hmYh1SQM3QFXZt3eQGSld798VKGa/1vcxF3ecNKGIZNkw9DMjqM/YYRWHlpJuIs55pVDM3b/XNRN/uN/IRR+fysNMTW6UsYqnVjWqLW8vr/I8EozeuBeDp8DkOXeLVfJmrjyMkbGLk5xyF+mk6pZiS+uX1f1FCjKxbQhqJDEC/ZIzYyMlXPn5yOXUo76cktNGPbzRmIkaM/YbSW3nN8Onam2Y2LaUtxa8RFzr1VjN7a6Wc1wPbtPXhmFc0pH56GWDjuUxqx7bWrW+LnOvzuAxo1pwX8lzu6mpZ89bfRF3fap2EmkHFgj6HjXlxJwzZdAt+1/5w2bV23jR54cS94bdAWSlLW94O/8qZSkpW4Eb5q+RElAI9kwkv9NlIC8Up9+CftbkpQFu4L32T/iRKckg7wS/3XKEEq7QWf7L2QEqyqIfBHuxWUwN0KX3TeQHHgKvihSxnFhcQ58MGJmylubOsO+04opbhSejSs61RKcWdtK9h23CaKS8uawbKjN1Lc+rgh7DpgNcW1N/NgVZPPKe5Ng1G5b1PCcC5MSp9BCcXG/WHRHygheScT9gyjhOZOmNOtmhKa6s4wZu81lBCtaAxTMt+ihOp/YMoYSsguhyF9KWFbXwAzDthACdm8NjAjZz4lXFV3ZcGO0ZRwLTkehnSqpoTqsUIYUu8LSpjW9oUpD1DC9NIeMKVzghKessGwpWApJTzFLWHMZEp4/pgFY05IUMKSuAnWZCyghGXrOTBnCCUs646HOU3WU0LyxUGw50FKSN5oAns6VFPC8WQODHqLEo47YNH5lFBsGwiLspdRwlDWFSYNoYSh8mSYlLuSEoLE+bBpOCUMw2BT/mpKCO6CUddTQjAFRtVfR3Hv2QwYdQvFvddzYFS99RTn5hXCqsspzn3RFFalfUpxraQFzOpJca38cNg1i+LaZbDrEIprT8GwhymOLa4Pu5qUU9yqOBKGXU9x7CpY9hnFrZmw7BiKW2UtYNkkilsjYFn2eopT8zNgWT+KU1VHwrQXKE79HqY1raS4tCIfpg2nODUItr1PcemzDJi2d4LiUj/YNpjiUjGMm0lxqStsK6ygOPR3GHcGxaWOMO4JikPvwrjM9RSHzoFxXSgOrciEcWMoDl0P6+ZR3ClrDOMaVFPceRDW9aY4dCisu5/iziKYV0xxZxSsK6ikuNMK1vWkuDMf5t1Dced6mDeX4k4LWJe5heJMMcxrS3HnVph3PsWdzjDvfooz5Tkw7xWKM7Nh32qKMzfCvD0p7nSEeT0pzpRmwrzrKc7MhH1/pjhzF+x7j+LMObBvDcWZtjAvn+JMRRbMa0txZiHsO4XizJOw7wqKMyNh31iKM71h37MUZ1rDvvkUZ+rDvu8orpTBviyKM0tgX1OKM2/DvoMpzsyAfZ0ozkyEfadQnLkJ9g2gODMI9g2jOHMm7LuN4kxf2DeB4kxv2PckxZnusO85ijNdYF8RxZnjYV8RxZljYF8RxZkOsK+I4kw72FdEcaYt7CuiOHMs7CuiONMN9hVRnDkN9hVRnBkA+4oozgyFfUUUZ0bCviKKM3fBviKKM+NhXxHFmamwr4jizPOwr4jizDzYV0RxZg3sK6I4k8iBeUUUdw6EeUUUdzrDvCKKOxfAvCKKOyNh3pMUdybBvLEUd2bBvOso7qyCeRdSHNoT1vWgONQT1rWnODQS1u1FcegpWJdRTXHnXzBvDcWd6nxY9zHFoY6w7lWKQyNh3Z8oDr0K68ZSHCrPgXG/pbjUBcZdQHHpDhh3PMWluTBuL4pLlYWwLa2c4tIpMG4RxaWpMO4FikvfZ8O2cRSn+sC2qyhOPQnbTqE4VZoH09pQ3DoDpuUlKE49A9tKKE6VN4Jpb1LcGgHTHqe49VU6LBtFcexUWHYaxbHZsOwgimuHwLD0zRTHJsOyYopjmxvDsEcprt0Pw4ZRXCvfC3Z1pTg3CXbtRnFu2/6w61uKc4/Drr9TnKs+BGaNpbj3EswaSAnB6bDqCEoIVhTAqJwKSgh+D6uKKSGoag+jxlHC8G46bDqHEoqhsKkFJRTlh8CmVZRQLMyFSUWUcEyCSSMpIekLizpTQrJ+HxiUX0UJyRtZMGgBJSxTYNCDlNBcA3supISm+hSYcxAlPKWHwZzllPAs3xPWTKWEaF4DGHMBJUxzC2DLXpRQ/SMPtiyihOqVHJgynhKuF7JgyamUkD2XB0MaVFFCVrwHDCmmhO3rdrDjbkroNvaAGb+khK9qCKzI3UKJwB/SYcQrlCi8kA8bhlIiMX9vmLAvJRorO8CEeZRobD4VFtxCicqUQkSvPSUyX3dD9L6mROehAkRtPCVCX3VFxLpRopSYXIBIZW2gRGppF0Tqz5RoJSbmI0JnU6K2pDOiU7+CErln2yAyz1OiV/XYvojIWRQLto5tgkjkbaKYsHFUAaIwnWLE6iuzEb4eFDO+6p+OsGWsptjxcXeEbQLFkJcRtuMohtyM0C2h2HEAQncHxYx3EL42FDOuRATmU4yoaooIXEExYhai0LCcYkN/RGIaxYTyQkSiE8WEpxCRTygW/BoRuYpiwPpsRKTRFkr0JiEy0ynROxyROZ4SuXcRoUWUqF2ECA2jRGxDPUSocTklWhMQqQmUaLVDpJpXUqL0NiI2nRKlAYhY2wQlOt/lImovUKIzDpHrRIlMdStE7w1KVJ6BAb0oUTkCFnxEicYsmHAuJRonwoSMJZQovAUjhlCi0BtG5K6ihO9DmHEDJXxnw4wGGylh+yIddtxLCdslMGTPrZRwrcyGJQ9RwjUcphxYRQnT2nzY8hQlTKNgTHtKiDY1gjUzKeG5D+YcnaCEZcuesOcJSlgmw6B9yijhqGwBi26jhGM6TMovoYShsjVsupAShnEwKu0DintrG8KqX1DcGwy7ZlBc+ygDdh1QQXHsJFh2P8WtZ2FagzUUl7buD9sGU1y6G8ZlfEJxp6QA1vWguDMA9r1McaU4Dfa1qaS4kTgOPphIceMJeKHJ9xQXNjeDH66huHATPJH9JSV4X+XCF7+iBK8f/PEIJWhz4JH6yynBqj4cPulBCdYf4JdHKUH6PA9+qb+CEpzqjvBNT0pw7oN/HqMEZVEO/NNgBSUYlUfBRydTgnEn/PRHShA+yoafGqykJG9be/iqFyV5t8Bf0yjJmpcJfzUsoSSnoh181puSnBvgt8cpySjOgN8afUOpuy0Hw3d9KHV3Lfz3OKWu3kqH/wo+o9RNWUvEQdvNlDq5CvFwPqUuZqYhJiZTau+b3REX2e9Raqv6JMRH8/WUWroNcdIrQamVf2QgVu6g1MbaZoiX9NmUmkv0QtzsvpJSY6MRP522UWro3SzE0HBKzXzfArH0DKVG+iGeCj+n1MAkxNWhZZRd+jAXsTWAsiulrRFjD1N2oT/iLGceZaemId72XUnZic/yEXOHbqDsUNlhiL3OWyk7kOiHFHBGNWX7bkBKuJKyXY8jRdxD2Y43s5EqHqf8lyW7IWVkzqL8zIY2SCEF71N+ovJXSClNv6T82G+QYg5cTfl/Y5Byjiyl/GAcUlCXUsp/PICUdNz3lH8bjxTVYS2FnICU1fZbykSksJbLGYEtC2Y9M3XCPTcNu/isXice1fW8q++dOnN+SSUjMQkprflihqny06dvOb1VBrYnbbe2p4+Zu5XhmoQUt/ubDEflG3efd1g2diWn4zUzShiaB9KQ6rIfo3srHunXADXX/NyJyxmCrYMgwNVVdKli9oh2qLW0Y+5bTMeWHw35t54b6MrGaX3yUVft7/iUDr2+O+Q/Dv6SLlQ8d2YuktNm1Ed0ZEwG5AeNnmXQql+/pCGC0P6BdQze5rMhPzZgA4M0/9q9EZjsfi9WMVhftoP81L6vMSirxh6KgO113WcM0PMNID+XNmwLA1Ax45RMuNBxykYGo+QsyPYc/D6T9f4VjeFM3vmvVjNpVeMKIduXOXQNk/Dt6LZwbL9Ri5mcdzpAdqzwzjLWzdane2UgBGknTi1lnc3vA9m5vR+rZu0V/6YRQpN/7jObWRcf9oXsWruXWTsr72uDkOX1nf49ayfx2ulpkBo59pFNrKHqd0cdkYYoZPV4eDVrbMUd+0NqLn/gm9y1DU9f2BQRSj/x1lnfcddWPdEzHVJLre79ljtR/cmYk7IQvbTWF06eX8kd2jr7uvZpkLrIPP66ojX8b1WLpg/7RQEMqfeLEdNnvr90E3+sevGLowd1qgdJSsuBjyxK8AeVC6de0akerMreq12XMy6/dvB5fTofcVAuzPpfTkq1f/bQtVEAAAAASUVORK5CYII=" alt="Apple" class="apple-logo">
                <span class="company-name" id="card-company">AppleID {X} Mobile</span>
            </div>
            
            <div class="card-body">
                <div class="field">
                    <div class="label">Apple ID</div>
                    <div class="value blue" id="card-appleid">-</div>
                </div>
                <div class="field">
                    <div class="label">Password</div>
                    <div class="value" id="card-applepass">-</div>
                </div>
                <div class="field" id="email-pass-box">
                    <div class="label">Email Password</div>
                    <div class="value" id="card-emailpass">-</div>
                </div>
                <div class="field">
                    <div class="label">Birthday</div>
                    <div class="value" id="card-dob">-</div>
                </div>

                <div class="security-box" id="sec-container">
                    <div class="label" style="margin-bottom:10px">Security Questions</div>
                    <div id="sec-list"></div>
                </div>
            </div>

            <div class="card-unique-id" id="card-unique-id"></div>
	        <div class="card-footer"><p id="card-note" dir="rtl" style="margin: 0px; padding: 0px;"></p></div>
            <span class="copyright" id="copyright">Copyright (c) 2026 ahmadm671</span>
        </div>
    </div>

    <script>
    // Global variable to store the ID for the filename
    let currentCardID = "";

    document.getElementById('dataInput').value = `test@gmail.com
test1234
Email pass: test
200x/xx/xx
What is the firs name of your best friend in high school? test
What was the model of your first car? test
What was the name of your first boss? test`;

    function updateCard() {
        const raw = document.getElementById('dataInput').value.split('\n').filter(l => l.trim());
        document.getElementById('card-company').innerText = document.getElementById('companyInput').value;
        document.getElementById('card-note').innerText = document.getElementById('noteInput').value;

        if (raw.length < 2) return;

        const appleId = raw[0];
        document.getElementById('card-appleid').innerText = appleId;
        document.getElementById('card-applepass').innerText = raw[1];

        // --- ID GENERATION CODE ---
        const firstTwo = appleId.substring(0, 2).toUpperCase();
        const timestamp = Date.now().toString();
        currentCardID = `${timestamp}${firstTwo}`;
        document.getElementById('card-unique-id').innerText = "ID: " + currentCardID;
        // ------------------------------

        let cursor = 2;
        const emailBox = document.getElementById('email-pass-box');
        
        if (raw[cursor] && raw[cursor].toLowerCase().includes("email pass:")) {
            const passOnly = raw[cursor].split(/email pass:/i)[1].trim();
            document.getElementById('card-emailpass').innerText = passOnly;
            emailBox.classList.remove('hidden');
            cursor++;
        } else {
            emailBox.classList.add('hidden');
        }

        document.getElementById('card-dob').innerText = raw[cursor] || "-";
        cursor++;

        const list = document.getElementById('sec-list');
        list.innerHTML = "";
        for (let i = cursor; i < raw.length; i++) {
            const parts = raw[i].split('?');
            if (parts.length > 1) {
                const item = document.createElement('div');
                item.className = 'sec-item';
                item.innerHTML = `<div class="q">${parts[0]}?</div><div class="a">${parts[1].trim()}</div>`;
                list.appendChild(item);
            }
        }
    }

    function downloadCard() {
        const card = document.querySelector("#card");
        html2canvas(card, {
            scale: 3, 
            backgroundColor: null
        }).then(canvas => {
            const link = document.createElement('a');
            // USE THE GENERATED ID IN THE FILENAME
            link.download = `apple-id-${currentCardID}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        });
    }

    updateCard();
</script>
</body>

</html>
